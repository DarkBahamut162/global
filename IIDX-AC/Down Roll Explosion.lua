local player = Var "Player"
local mods = string.find(GAMESTATE:GetPlayerState(player):GetPlayerOptionsString("ModsLevel_Song"),"FlipUpsideDown")
local reverse = GAMESTATE:GetPlayerState(player):GetPlayerOptions('ModsLevel_Song'):UsingReverse()
if mods then reverse = not reverse end

return Def.ActorFrame{
	Def.Sprite {
		Texture="_Key2 Hold Explosion 4x3.png",
		Frame0000=0,
		Delay0000=0.03,
		Frame0001=1,
		Delay0001=0.03,
		Frame0002=2,
		Delay0002=0.03,
		Frame0003=3,
		Delay0003=0.03,
		Frame0004=4,
		Delay0004=0.03,
		Frame0005=5,
		Delay0005=0.03,
		Frame0006=6,
		Delay0006=0.03,
		Frame0007=7,
		Delay0007=0.03,
		Frame0008=8,
		Delay0008=0.03,
		Frame0009=9,
		Delay0009=0.03,
		Frame0010=10,
		Delay0010=0.03,
		Frame0011=11,
		Delay0011=0.03,
		RollOnCommand=function(self) self:blend('BlendMode_Add'):zoom(2.5):zoomy(reverse and -2.5 or 2.5) end
	},
	Def.Sprite {
		Texture="_Key2 Lift 13x1.png",
		Frame0000=0,
		Delay0000=0.03,
		Frame0001=1,
		Delay0001=0.03,
		Frame0002=2,
		Delay0002=0.03,
		Frame0003=3,
		Delay0003=0.03,
		Frame0004=4,
		Delay0004=0.03,
		Frame0005=5,
		Delay0005=0.03,
		Frame0006=6,
		Delay0006=0.03,
		Frame0007=7,
		Delay0007=0.03,
		Frame0008=8,
		Delay0008=0.03,
		Frame0009=9,
		Delay0009=0.03,
		Frame0010=10,
		Delay0010=0.03,
		Frame0011=11,
		Delay0011=0.03,
		Frame0012=12,
		Delay0012=0.03,
		RollOnCommand=function(self) self:stoptweening():blend('BlendMode_Add'):zoom(2.07):zoomy(reverse and -2.07 or 2.07):loop(0):diffusealpha(1):setstate(0):sleep(self:GetAnimationLengthSeconds()):diffusealpha(0) end,
		RollOffCommand=function(self) self:stoptweening():blend('BlendMode_Add'):zoom(2.07):zoomy(reverse and -2.07 or 2.07):loop(0):diffusealpha(1):setstate(0):sleep(self:GetAnimationLengthSeconds()):diffusealpha(0) end
	}
}